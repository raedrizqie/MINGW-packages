diff --git a/src/3rdparty/chromium/third_party/vulkan-loader/src/BUILD.gn b/src/3rdparty/chromium/third_party/vulkan-loader/src/BUILD.gn
index 40135e7..f9b0799 100644
--- a/src/3rdparty/chromium/third_party/vulkan-loader/src/BUILD.gn
+++ b/src/3rdparty/chromium/third_party/vulkan-loader/src/BUILD.gn
@@ -37,7 +37,7 @@ if (is_win) {
 
 config("vulkan_internal_config") {
   defines = [ "VK_ENABLE_BETA_EXTENSIONS" ]
-  if (is_clang || !is_win) {
+  if (is_clang || !is_msvc) {
     cflags = [
       "-Wno-conversion",
       "-Wno-extra-semi",
@@ -77,7 +77,7 @@ config("vulkan_loader_config") {
     "LOADER_USE_UNSAFE_FILE_SEARCH=1",
   ]
 
-  if (is_win) {
+  if (is_msvc) {
     cflags = [ "/wd4201" ]
   }
   if (is_linux || is_chromeos) {
@@ -87,6 +87,9 @@ config("vulkan_loader_config") {
       "LOADER_ENABLE_LINUX_SORT",
     ]
   }
+  if (!vulkan_loader_shared) {
+    defines += [ "BUILD_STATIC_LOADER" ]
+  }
 }
 
 if (!is_android) {
@@ -228,7 +231,13 @@ if (!is_android) {
         "$target_gen_dir/loader.rc",
         "loader/vulkan-1.def",
       ]
-      if (!is_clang) {
+      if (!vulkan_loader_shared) {
+        sources -= [
+          "loader/loader.rc",
+          "loader/vulkan-1.def",
+        ]
+      }
+      if (is_msvc && !is_clang) {
         cflags = [
           "/wd4054",  # Type cast from function pointer
           "/wd4055",  # Type cast from data pointer
@@ -247,8 +256,12 @@ if (!is_android) {
       if (is_clang) {
         cflags = [ "-Wno-incompatible-pointer-types" ]
       }
-      libs = [ "Cfgmgr32.lib" ]
-      deps += [ ":gen_loader_rc" ]
+      if (is_mingw) {
+        libs = [ "cfgmgr32" ]
+      } else {
+        libs = [ "Cfgmgr32.lib" ]
+        deps += [ ":gen_loader_rc" ]
+      }
     }
     if (is_linux || is_chromeos) {
       sources += [
diff --git a/src/3rdparty/chromium/third_party/vulkan-loader/src/loader/loader_windows.c b/src/3rdparty/chromium/third_party/vulkan-loader/src/loader/loader_windows.c
index f73659c..b8f701f 100644
--- a/src/3rdparty/chromium/third_party/vulkan-loader/src/loader/loader_windows.c
+++ b/src/3rdparty/chromium/third_party/vulkan-loader/src/loader/loader_windows.c
@@ -95,6 +95,7 @@ void windows_initialization(void) {
 #endif
 }
 
+#ifndef BUILD_STATIC_LOADER
 BOOL WINAPI DllMain(HINSTANCE hinst, DWORD reason, LPVOID reserved) {
     (void)hinst;
     switch (reason) {
@@ -116,6 +117,7 @@ BOOL WINAPI DllMain(HINSTANCE hinst, DWORD reason, LPVOID reserved) {
     }
     return TRUE;
 }
+#endif
 
 bool windows_add_json_entry(const struct loader_instance *inst,
                             char **reg_data,    // list of JSON files
diff --git a/src/3rdparty/chromium/third_party/vulkan_memory_allocator/BUILD.gn b/src/3rdparty/chromium/third_party/vulkan_memory_allocator/BUILD.gn
index 97aab3a..fad0e7a 100644
--- a/src/3rdparty/chromium/third_party/vulkan_memory_allocator/BUILD.gn
+++ b/src/3rdparty/chromium/third_party/vulkan_memory_allocator/BUILD.gn
@@ -10,7 +10,7 @@ declare_args() {
 
 config("vulkan_memory_allocator_config") {
   include_dirs = [ "include" ]
-  if (is_clang) {
+  if (is_clang || !is_msvc) {
     cflags_cc = [
       "-Wno-c++98-compat-extra-semi",
       "-Wno-deprecated-copy",
@@ -22,7 +22,7 @@ config("vulkan_memory_allocator_config") {
       "-Wno-unused-variable",
     ]
   }
-  if (is_win && !is_clang) {
+  if (is_msvc && !is_clang) {
     cflags_cc = [
       "/wd4189",  # local variable is initialized but not referenced
     ]
